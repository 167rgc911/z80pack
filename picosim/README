To build you need to have the SDK for RP2040-based devices installed and
configured. The SDK manual has detailed instructions how to install on
all major PC platforms, it is available here:

https://www.raspberrypi.com/documentation/microcontrollers/raspberry-pi-pico.html

We are going to use a MicroSD drive for 8080/Z80 code files, disk images
and configration files. This requires an additional library to talk to
such devices with SPI. The library is setup as submodule in z80pack,
if you wish to build this here you need to download the lib. You can
either clone z80pack with this command:

	git clone --recursive https://github.com/udo-munk/z80pack.git

or if you cloned already without pulling submodules you can add it with:

	cd z80pack
	git submodule update --init

Now you can build picosim with these commands:

	cd z80pack/picosim
	mkdir build
	cd build
	cmake ..
	make

To clean everything:

	cd z80pack/picosim
	rm -rf build

The FatFS filesystem can be configured in many ways and not everything
included is needed here. I have added the file ffconf.h-z80pack with my
configuration, copy it to:
	no-OS-FatFS-SD-SPI-RPi-Pico/FatFs_SPI/ff15/source/ffconf.h
This saves memory in code space and on stack/heap.

This machine can be used with Pico and Pico W boards. However, it is setup
for a Pico board, because with the additional CYW43 library + SPI + FatFS
+ TinyUSB the system runs out of stack.
To setup for a Pico W comment/uncomment the lines in CMakeLists.txt
and change the board type in sim.h. This will only work when using
the GPIO UART.

This is configured now for USB UART to that no additional parts are needed
to hook up a terminal. If configured for GPIO UART connect a TTL/USB
adatpter or a pico probe to the UART pins for the one configured in
CMakeLists.txt.


Preparing a MicroSD card:
In the root directory of the card create these directories:
CONF80
CODE80
DISKS80

Into the CODE80 directory copy all the .bin files from src-examples.
Into the DISKS80 directory copy the CP/M disk images from disks.
In CONF80 create an empty text file CFG.TXT.
